{"mappings":"YAAO,IAAMA,EAAO,CAChBC,SAAUC,SAASC,cAAc,iBACjCC,WAAYF,SAASC,cAAc,WACnCE,SAAUH,SAASC,cAAc,UACjCG,SAAUJ,SAASC,cAAc,cCFtB,SAAAI,IACXP,EAAKI,WAAWI,UAAUC,IAAI,kB,CCDnB,SAAAC,IACXV,EAAKI,WAAWI,UAAUG,OAAO,kB,CCgB1B,SAASC,EAAgBC,GAG5B,OAFFC,QAAQC,IAAIF,GACVH,IACOM,MAAM,sDAA2EC,OAlBhF,wEAkBmE,eAAqBA,OAARJ,IAAWK,MAC/F,SAAAC,GAEI,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,M,IAEnBL,MAAK,SAAAM,GACE,GAAIA,GAAQA,EAAKC,OAAS,EAEtB,OADAlB,IACOiB,EAAK,E,IAIvBE,OAAM,SAAAC,GACHpB,IACAP,EAAKK,SAASG,UAAUG,OAAO,mBAC/BG,QAAQa,MAAM,SAAUA,EAAMC,KAAMD,EAAME,Q,ICnC1D7B,EAAKC,SAASO,UAAUC,IAAI,mBAC5BT,EAAKK,SAASG,UAAUC,IAAI,mBAC5BF,KDAEG,IACOM,MAAM,uCACVE,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,M,KCJnBL,MAAK,SAAAM,GACJjB,IACAP,EAAKC,SAASO,UAAUG,OAAO,mBAC/BX,EAAKK,SAASG,UAAUC,IAAI,mBAE5Be,EAAKM,SAAQ,SAAAC,GACX,IAAMC,EAAW9B,SAAS+B,cAAc,UACxCD,EAASE,MAAQH,EAAMI,GACvBH,EAASI,YAAcL,EAAMH,KAC7B5B,EAAKC,SAASoC,YAAYL,E,OAI3BN,OAAM,SAAAC,GACHpB,IACAP,EAAKK,SAASG,UAAUG,OAAO,mBAC/BG,QAAQa,MAAM,SAAUA,EAAMC,KAAMD,EAAME,Q,IAGhD7B,EAAKC,SAASqC,iBAAiB,UAAU,WAEzC1B,EADgBZ,EAAKC,SAASiC,OAE3BhB,MAAK,SAAAqB,GACJ,IAAIA,EAIF,OAHAvC,EAAKM,SAASkC,UAAY,GAC1BxC,EAAKI,WAAWI,UAAUC,IAAI,wBAC9BT,EAAKK,SAASG,UAAUG,OAAO,mBAGjC,GAAI4B,EAAW,CACb,IAAIE,EAAWvC,SAAS+B,cAAc,OACtCQ,EAASC,IAAMH,EAAUI,IACzBF,EAASG,MAAMC,SAAW,QAC1B,IAAIC,EAAY5C,SAAS+B,cAAc,MACvCa,EAAUV,YAAcG,EAAUQ,OAAO,GAAGnB,KAC5C,IAAIoB,EAAa9C,SAAS+B,cAAc,KACxCe,EAAWZ,YAAcG,EAAUQ,OAAO,GAAGE,YAC7C,IAAIC,EAAchD,SAAS+B,cAAc,KACzCiB,EAAYV,UAAY,uBAAyBD,EAAUQ,OAAO,GAAGI,YACrEnD,EAAKM,SAASkC,UAAY,GAC1BxC,EAAKM,SAAS8C,OAAOX,EAAUK,EAAWE,EAAYE,E,KAEvDxB,OAAM,SAAAC,GACTb,QAAQC,IAAIY,E","sources":["src/cmn/refs.js","src/cmn/hideMsg.js","src/cmn/showMsg.js","src/js/cat-api.js","src/js/index.js"],"sourcesContent":["export const refs = {\n    selector: document.querySelector('.breed-select'),\n    loadingMsg: document.querySelector('.loader'),\n    errorMsg: document.querySelector('.error'),\n    infoArea: document.querySelector('.cat-info')\n}","import { refs }  from '../cmn/refs.js';\n\nexport default function hideMsg() {\n    refs.loadingMsg.classList.add('visually-hidden');\n}\n\n","import { refs }  from '../cmn/refs.js';\n\nexport default function showMsg() {\n    refs.loadingMsg.classList.remove('visually-hidden');\n}","import showMsg from '../cmn/showMsg.js';\nimport hideMsg from '../cmn/hideMsg.js';\nimport { refs }  from '../cmn/refs.js'\n\nconst API_KEY = 'live_MfJNfatG8Kud5uZ7z4S6guToaPaSJwYB2XB70il98Bax59GNkPpqb251luAKkmTH';\n\nexport function fetchBreeds() {\n  showMsg();\n  return fetch('https://api.thecatapi.com/v1/breeds')\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    });\n\n}\n\n    export function fetchCatByBreed(breedId) {\n      console.log(breedId);\n        showMsg();\n        return fetch(`https://api.thecatapi.com/v1/images/search?api_key=${API_KEY}&breed_ids=${breedId}`).then(\n            response => {\n\n                if (!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            })\n            .then(data => {\n                    if (data && data.length > 0) {\n                        hideMsg();\n                        return data[0];\n                              }\n\n            })\n            .catch(error => {\n                hideMsg();\n                refs.errorMsg.classList.remove(\"visually-hidden\");\n                console.error('Error:', error.name, error.message);\n            })\n    }","import hideMsg from '../cmn/hideMsg.js';\nimport { refs } from '../cmn/refs';\nimport { fetchBreeds, fetchCatByBreed } from '../js/cat-api.js';\nimport showMsg from '../cmn/showMsg';\n\nrefs.selector.classList.add('visually-hidden');\nrefs.errorMsg.classList.add('visually-hidden');\nhideMsg();\n\nfetchBreeds()\n  .then(data => {\n    hideMsg();\n    refs.selector.classList.remove('visually-hidden');\n    refs.errorMsg.classList.add('visually-hidden');\n\n    data.forEach(breed => {\n      const catBreed = document.createElement('option');\n      catBreed.value = breed.id;\n      catBreed.textContent = breed.name;\n      refs.selector.appendChild(catBreed);\n\n    });\n  })\n    .catch(error => {\n        hideMsg();\n        refs.errorMsg.classList.remove(\"visually-hidden\");\n        console.error('Error:', error.name, error.message);\n    });\n\n  refs.selector.addEventListener('change', () => {\n  const breedId = refs.selector.value;\n  fetchCatByBreed(breedId)\n    .then(breedData => {\n      if(!breedData) {\n        refs.infoArea.innerHTML = '';\n        refs.loadingMsg.classList.add('visually-hidden');\n        refs.errorMsg.classList.remove('visually-hidden');\n        return;\n      }\n      if (breedData) {\n        let breedImg = document.createElement('img');\n        breedImg.src = breedData.url;\n        breedImg.style.maxWidth = '300px';\n        let breedName = document.createElement('h3');\n        breedName.textContent = breedData.breeds[0].name;\n        let breedDescr = document.createElement('p');\n        breedDescr.textContent = breedData.breeds[0].description;\n        let breedTemper = document.createElement('p');\n        breedTemper.innerHTML = '<b>Temperament: </b>' + breedData.breeds[0].temperament;\n        refs.infoArea.innerHTML = '';\n        refs.infoArea.append(breedImg, breedName, breedDescr, breedTemper);\n      }\n    }).catch(error => {\n    console.log(error);\n  });\n\n});"],"names":["$cce7a29075ed0ec9$export$21666b427502ea6d","selector","document","querySelector","loadingMsg","errorMsg","infoArea","$4db0b112ba1bf8f7$export$2e2bcd8739ae039","classList","add","$d2ca9b688d000e2c$export$2e2bcd8739ae039","remove","$8994e83c1b13b9e2$export$57b7d3a597416aa2","breedId","console","log","fetch","concat","then","response","ok","Error","status","json","data","length","catch","error","name","message","forEach","breed","catBreed","createElement","value","id","textContent","appendChild","addEventListener","breedData","innerHTML","breedImg","src","url","style","maxWidth","breedName","breeds","breedDescr","description","breedTemper","temperament","append"],"version":3,"file":"index.57daa958.js.map"}