{"mappings":"AAAO,MAAMA,EAAO,CAChBC,SAAUC,SAASC,cAAc,iBACjCC,WAAYF,SAASC,cAAc,WACnCE,SAAUH,SAASC,cAAc,UACjCG,SAAUJ,SAASC,cAAc,cCFtB,SAAAI,IACXP,EAAKI,WAAWI,UAAUC,IAAI,kB,CCgBvB,SAASC,EAAgBC,GAE5B,OClBJX,EAAKI,WAAWI,UAAUI,OAAO,mBDkBtBC,MAAM,sIAA2EF,KAAWG,MAC/FC,IAEI,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,MAAM,IAEzBL,MAAKM,IACE,GAAIA,GAAQA,EAAKC,OAAS,EAEtB,OADAd,IACOa,EAAK,E,IAIvBE,OAAMC,IACHhB,IACAP,EAAKK,SAASG,UAAUI,OAAO,mBAC/BY,QAAQD,MAAM,SAAUA,EAAME,KAAMF,EAAMG,QAAQ,G,CEjBlEnB,IACAP,EAAKC,SAASO,UAAUC,IAAI,mBAC5BT,EAAKK,SAASG,UAAUC,IAAI,mBFhBjBI,MAAM,uCACRC,MAAKC,IACF,IAAKA,EAASC,GACd,MAAM,IAAIC,MAAMF,EAASG,QAGzB,OAAOH,EAASI,MAAM,IEa7BL,MAAKM,IACFb,IAEAP,EAAKC,SAASO,UAAUI,OAAO,mBAC/BZ,EAAKK,SAASG,UAAUC,IAAI,mBAE5BW,EAAKO,SAAQC,IACb,MAAMC,EAAW3B,SAAS4B,cAAc,UACxCD,EAASE,MAAQH,EAAMI,GACvBH,EAASI,YAAcL,EAAMH,KAC7BzB,EAAKC,SAASiC,YAAYL,EAAS,GAErC,IAEDP,OAAMC,IACHhB,IACAP,EAAKK,SAASG,UAAUI,OAAO,mBAC/BY,QAAQD,MAAM,SAAUA,EAAME,KAAMF,EAAMG,QAAQ,IAG1D1B,EAAKC,SAASkC,iBAAiB,UAAU,KAErCzB,EADgBV,EAAKC,SAAS8B,OAEzBjB,MAAKsB,IACF,GAAIA,EAAW,CACXZ,QAAQa,IAAID,GAChB,IAAIE,EAAWpC,SAAS4B,cAAc,OAC9BQ,EAASC,IAAMH,EAAUI,IACzBF,EAASG,MAAMC,SAAW,QAClC,IAAIC,EAAYzC,SAAS4B,cAAc,MAC/Ba,EAAUV,YAAcG,EAAUQ,OAAO,GAAGnB,KACpD,IAAIoB,EAAa3C,SAAS4B,cAAc,KAChCe,EAAWZ,YAAcG,EAAUQ,OAAO,GAAGE,YACrD,IAAIC,EAAc7C,SAAS4B,cAAc,KACjCiB,EAAYC,UAAY,uBAAyBZ,EAAUQ,OAAO,GAAGK,YAC7EjD,EAAKM,SAAS0C,UAAY,GAClBhD,EAAKM,SAAS4C,OAAOZ,EAAUK,EAAWE,EAAYE,E,IAEhE","sources":["src/cmn/refs.js","src/cmn/hideMsg.js","src/js/cat-api.js","src/cmn/showMsg.js","src/js/index.js"],"sourcesContent":["export const refs = {\n    selector: document.querySelector('.breed-select'),\n    loadingMsg: document.querySelector('.loader'),\n    errorMsg: document.querySelector('.error'),\n    infoArea: document.querySelector('.cat-info')\n}","import { refs }  from '../cmn/refs.js'\n\nexport default function hideMsg() {\n    refs.loadingMsg.classList.add('visually-hidden');\n}\n\n","import showMsg from '../cmn/showMsg.js';\nimport hideMsg from '../cmn/hideMsg.js';\nimport { refs }  from '../cmn/refs.js'\n\nconst API_KEY = 'live_MfJNfatG8Kud5uZ7z4S6guToaPaSJwYB2XB70il98Bax59GNkPpqb251luAKkmTH';\n\nexport function fetchBreeds() {\n    \n    return fetch(\"https://api.thecatapi.com/v1/breeds\")\n        .then(response => {\n            if (!response.ok) {\n            throw new Error(response.status);\n            }\n           \n            return response.json();\n        })\n        \n    }\n\n    export function fetchCatByBreed(breedId) {\n        showMsg();\n        return fetch(`https://api.thecatapi.com/v1/images/search?api_key=${API_KEY}&breed_ids=${breedId}`).then(\n            response => {\n                \n                if (!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            })\n            .then(data => {\n                    if (data && data.length > 0) {\n                        hideMsg();\n                        return data[0];\n                              }\n                                 \n            })\n            .catch(error => {\n                hideMsg();\n                refs.errorMsg.classList.remove(\"visually-hidden\");\n                console.error('Error:', error.name, error.message);\n            })\n    }","import { refs }  from '../cmn/refs.js'\n\nexport default function showMsg() {\n    refs.loadingMsg.classList.remove('visually-hidden');\n}","import hideMsg from '../cmn/hideMsg.js'\nimport { refs }  from '../cmn/refs'\nimport { fetchBreeds, fetchCatByBreed } from '../js/cat-api.js';\n\n// import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\n// export const refs = {\n//     selector: document.querySelector('.breed-select'),\n//     loadingMsg: document.querySelector('.loader'),\n//     errorMsg: document.querySelector('.error'),\n//     infoArea: document.querySelector('.cat-info')\n// }\n\n// export default function showMsg() {\n//     refs.loadingMsg.classList.remove('visually-hidden');\n// }\n\n// export default function hideMsg() {\n//     refs.loadingMsg.classList.add('visually-hidden');\n// }\n\n\nhideMsg();\nrefs.selector.classList.add('visually-hidden');\nrefs.errorMsg.classList.add(\"visually-hidden\");\n\nfetchBreeds()\n    .then(data => {     \n        hideMsg(); \n      \n        refs.selector.classList.remove('visually-hidden');\n        refs.errorMsg.classList.add('visually-hidden');\n        \n        data.forEach(breed => {\n        const catBreed = document.createElement('option');\n        catBreed.value = breed.id;\n        catBreed.textContent = breed.name;\n        refs.selector.appendChild(catBreed);\n        \n    });\n    })\n    .catch(error => {\n        hideMsg();\n        refs.errorMsg.classList.remove(\"visually-hidden\");\n        console.error('Error:', error.name, error.message);\n    });\n\nrefs.selector.addEventListener('change', () => {\n    const breedId = refs.selector.value;\n    fetchCatByBreed(breedId)\n        .then(breedData => {\n            if (breedData) {\n                console.log(breedData);\n            let breedImg = document.createElement('img');\n                    breedImg.src = breedData.url;\n                    breedImg.style.maxWidth = \"300px\"\n            let breedName = document.createElement('h3');\n                    breedName.textContent = breedData.breeds[0].name;\n            let breedDescr = document.createElement('p');\n                    breedDescr.textContent = breedData.breeds[0].description;\n            let breedTemper = document.createElement('p');\n                    breedTemper.innerHTML = '<b>Temperament: </b>' + breedData.breeds[0].temperament;\n            refs.infoArea.innerHTML = '';\n                    refs.infoArea.append(breedImg, breedName, breedDescr, breedTemper);\n             }\n        })\n    \n});"],"names":["$b63228ab6db53803$export$21666b427502ea6d","selector","document","querySelector","loadingMsg","errorMsg","infoArea","$7a220bcc96ab396c$export$2e2bcd8739ae039","classList","add","$c4ebbd28ee7007ee$export$57b7d3a597416aa2","breedId","remove","fetch","then","response","ok","Error","status","json","data","length","catch","error","console","name","message","forEach","breed","catBreed","createElement","value","id","textContent","appendChild","addEventListener","breedData","log","breedImg","src","url","style","maxWidth","breedName","breeds","breedDescr","description","breedTemper","innerHTML","temperament","append"],"version":3,"file":"index.5cf31d9b.js.map"}